<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Business Card Maker with Qr-Code">
    <meta name="author" content="Yash Kumat">
    <meta property="og:image" content="heroImage.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="1024">
    <meta property="og:image:height" content="1024">
    <link rel="icon" href="heroImage.png">
    <title>VC Maker</title>

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
    <style>
      
        .heading{
            font-size: 50px;
        }
        .list-group-item{
          font-size: x-large;
        }
        .evenSection{
          background-color: #f9f9f9;
        }
        .card-1 .social svg{
          margin-bottom: 10px;
        }
        .card-2 .social svg{
          background-color: white;
          padding: 2px;
        }
        .card-2 .social{
          margin: 4px;
        }
        .card-2 .social .username{
          margin-right: 10px;
        }
        
    </style>
  </head>
  <body>

<main>

  <!-- Container -->
  <div class="container ">

    <!-- Hero Section -->
    <section id="heroSection" class="oddSection mt-4">
      <div class="row">
        <div class="col-md-7 py-4 col-md-push-5">
          <h2 class="heading">Make your own Business Card <span class="text-muted">With Scan To Call QR-Code</span></h2>
          <div class="row py-4">
              <div class="col-md-auto">
                  <ul class="list-group list-group-flush">
                      <li class="list-group-item">
                        <i class="fas fa-user-lock"></i>
                        <span class="mx-4">No privacy breach</span>
                      </li>
                      <li class="list-group-item">
                        <i class="fas fa-puzzle-piece"></i>
                        <span class="mx-4">Easy to make</span>
                      </li>
                      <li class="list-group-item">
                        <i class="fas fa-save"></i>
                        <span class="mx-4">Single Click Download</span>
                      </li>
                  </ul>
              </div>
          </div>
          <div class="row px-3">
              <div class="col">
                  <a href="#makeNowSection">
                    <button type="button" class="btn btn-secondary btn-sm btn-block">Make Now &raquo;</button>
                  </a>
              </div>
          </div>
        </div>
        <div class="col-md-5 p-4 col-md-pull-7">
          <img class="img-fluid mx-auto" width="500" height="500" src="heroImage.png" />
        </div>
      </div>
    </section>
    
    <hr>

    <!-- How to make section -->
    <section id="howToMakeSection" class="evenSection">
      <div class="row">
        <div class="col text-center p-4">
            <h1 class="display-3">How to make?</h1>
        </div>
      </div>
    
      <div class="row">
        <div class="col-lg-4 p-4">
            <center>
          <img class="rounded-circle" src="start.png" width="140" height="140" />
          <h2>Fill Form</h2>
          <p>Fill complete form with proper details for proper build and working.</p>
          </center>
        </div>
        <div class="col-lg-4 p-4">
            <center>
          <img class="rounded-circle" src="build.png" width="140" height="140" />
          <h2>Build Card</h2>
          <p>Check the sample once it is built, verify working of QR-Code.</p>
          </center>
        </div>
        <div class="col-lg-4 p-4">
            <center>
          <img class="rounded-circle" src="end.png" width="140" height="140" />
          <h2>Download & Share</h2>
          <p>Download your business card at single click. Share it with world.</p>
          </center>
        </div>
      </div>
    </section>
    
    <hr>

    <!-- SampleSection -->
    <section id="sampleSection" class="oddSection">
      <div class="row">
        <div class="col text-center pt-4">
            <h1 class="display-3">Sample Cards</h1>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-6 offset-sm-3 p-4">
          <div class="h3 py-3 pt-4 text-center">
            Card with QR-Code
          </div>
          <div class="card card-1 p-4 evenSection">
            <div class="row g-0">
              <div class="col-md-4 d-flex align-items-center justify-content-center">
                <img src="https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl=tel%3A9527526222&choe=UTF-8" alt="QR-Code">
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <h2 class="card-title">Yash Sanjay Kumat</h2>
                  <hr>
                  <h5 class="card-text">Laravel Developer</h5>
                  <p class="card-text"><small class="text-muted">Nashik | Mumbai</small></p>
                  <div class="d-flex flex-row">
                      <div class="my-2">
                        <i class="fab fa-lg fa-instagram"></i>
                        <span class="username">@yashkumat</span>
                      </div>
                      &nbsp;&nbsp;&nbsp;
                      <div class="my-2">
                        <i class="fab fa-lg fa-facebook-f"></i>
                        <span class="username">@yashkumat</span>
                      </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- <div class="col p-4">
          <div class="h3 py-3 pt-4 text-center">
            Card with Image/Logo + QR-Code
          </div>
          <div class="card card-2 p-3 evenSection">
            <div class="row g-0">
              <div class="col-md-4 d-flex align-items-center justify-content-center px-2">
                <img src="https://picsum.photos/id/1005/200/200" class="img-fluid rounded-circle" alt="DP">
              </div>
              <div class="col-md-8">
                <div class="card-body">
                  <h2 class="card-title">Yash Sanjay Kumat</h2>
                  <hr>
                  <h5 class="card-text">Laravel Developer</h5>
                  <p class="card-text"><small class="text-muted">Nashik | Mumbai</small></p>
                  <div class="d-flex justify-content-start align-items-end flex-column">
                    <div class="pt-1">
                        <span class="username">09527526222</span>
                        <img src="https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl=tel%3A9527526222&choe=UTF-8" width="30" height="30" alt="QR-Code">
                    </div>
                    <div class="mt-1">
                      <span class="username">@yashkumat</span>
                      <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
                    </div>
                    
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div> -->
      </div>

      <div class="py-2 text-center">
        <a href="#makeNowSection">
          <button type="button" class="btn btn-secondary btn-sm btn-block">Make now &raquo;</button>
        </a>
      </div>
      
    </section>
      
    <hr>

    <section class="" id="makeNowSection">
      <div class="row">
        <div class="col text-center m-4">
            <h2 class="display-3">Make Now</h2>
        </div>
    </div>
    <form onsubmit="event.preventDefault()">
      <div class="row ">
        <div class="col-12">
          <!-- <nav>
            <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
              <button class="nav-link active" id="nav-scanner-tab" data-bs-toggle="tab" data-bs-target="#nav-scanner" type="button" role="tab" aria-controls="nav-scanner" aria-selected="true">Scanner card</button>
              <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Image card</button>
            </div>
          </nav> -->
          <div class="row mt-4 ">
            <div class="col-sm-6 offset-sm-3 p-4 evenSection">
              <div class="row">
                <div class="mb-3 col-12">
                  <label for="name" class="form-label">Full Name</label>
                  <input type="text" class="form-control" id="name" placeholder="Yash Sanjay Kumat" required>
                  <small class="nameError"></small>
                </div>
              </div>
              <div class="row">
                <div class="mb-3 col-6">
                  <label for="city2" class="form-label">City 1</label>
                  <input type="text" class="form-control" id="city1" placeholder="Nashik" required>
                </div>
                <div class="mb-3 col-6">
                  <label for="city2" class="form-label">City 2</label>
                  <input type="text" class="form-control" id="city2" placeholder="Mumbai">
                </div>
              </div>
              <div class="row">
                <div class="mb-3 col-6">
                  <label for="mobileNumber" class="form-label">Mobile number</label>
                  <input type="text" class="form-control" id="mobileNumber" placeholder="10 Digits" onkeypress='validate(event)' maxlength="10" required>
                </div>
                <div class="mb-3 col-6">
                  <label for="designation" class="form-label">Designation</label>
                  <input type="text" class="form-control" id="designation" placeholder="Web Developer" required>
                </div>
              </div>
                
              <div class="row">
                <div class="mb-3 col-6">
                  <select class="form-select" id="social1Option" aria-label="Default select example" required>
                    <option selected disabled>Social 1</option>
                    <option value="0">Facebook</option>
                    <option value="1">Snapchat</option>
                    <option value="2">Twitter</option>
                    <option value="3">Instagram</option>
                  </select>
                </div>
                <div class="mb-3 col-6">
                  <div class="input-group flex-nowrap">
                    <span class="input-group-text" id="addon-wrapping">@</span>
                    <input type="text" id="social1Value" class="form-control" placeholder="Username" aria-label="Username" aria-describedby="addon-wrapping" required>
                  </div>
                </div>
              </div>
    
              <div class="row">
                <div class="mb-3 col-6">
                  <select class="form-select" id="social2Option" aria-label="Default select example">
                  <option value='' selected disabled>Social 2</option>
                    <option value="7">UPI Id</option>
                    <option value="4">Github</option>
                    <option value="5">Medium</option>
                    <option value="6">Linkedin</option>
                    <option value="0">Facebook</option>
                    <option value="1">Snapchat</option>
                    <option value="2">Twitter</option>
                    <option value="3">Instagram</option>
                  </select>
                </div>
                <div class="mb-3 col-6">
                  <div class="input-group flex-nowrap">
                    <span class="input-group-text" id="addon-wrapping">@</span>
                    <input type="text" id="social2Value" class="form-control" placeholder="Username" aria-label="Username" aria-describedby="addon-wrapping">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="mb-3 col-12">
                  <button type="submit" onclick="return makeCard1()" class="btn btn-primary">Submit</button>
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade show active" id="nav-scanner" role="tabpanel" aria-labelledby="nav-scanner-tab">
              <div class="row">
                <div class="col-sm-6 offset-sm-3">
                  <div class="row">
                    <div class="mb-3 col-12">
                      <button type="submit" onclick="return makeCard1(event);" class="btn btn-primary">Submit</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
              <div class="row">
                <div class="col-sm-6 offset-sm-3">
                  <div class="row">
                    <div class="mb-3 col-12">
                      <label for="formFile" class="form-label">Display Picture</label>
                      <input class="form-control" id="image" type="file">
                    </div>
                  </div>

                  <div class="row">
                    <div class="mb-3 col-12">
                      <button type="submit" onclick="return makeCard1(event);" class="btn btn-primary">Submit</button>
                    </div>
                  </div>
                    
                </div>
              </div>
            </div>
          </div> -->
        </div>
      </div>
    </form>
    </section>
    
    <hr>

    <div class="row visually-hidden" id="card1">
      <div class="col p-4">
        <div class="h3 py-3 pt-4 text-center">
          Your Business Card is ready!
        </div>
        <div class="row my-4">
          <div class="col-sm-6 offset-sm-3">
            <div class="card card-1 p-4 evenSection" id="card2">
              <div class="row g-0">
                <div class="col-md-4 d-flex align-items-center justify-content-center">
                  <img id="qr-code" src="https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl=tel%3A94&choe=UTF-8" alt="QR-Code" crossOrigin="anonymous">
                </div>
                <div class="col-md-8">
                  <div class="card-body">
                    <h2 class="card-title" id="nameValue">Yash Sanjay Kumat</h2>
                    <hr>
                    <h5 class="card-text" id="designationValue">Laravel Developer</h5>
                    <p class="card-text"><small class="text-muted"><span id="city1Value">Nashik</span><span id="city2Value">| Mumbai</span></small></p>
                    <div class="d-flex flex-row">
                        <div class="my-2">
                          <span id="social1Symbol">
                            <i class="fab fa-lg fa-facebook-f"></i>
                          </span>
                          <span id="social1Val">@yashkumat</span>
                        </div>
                        <div class="m-2">
                          <span id="social2Symbol">
                            <i class="fab fa-lg fa-instagram"></i>
                          </span>
                          <span id="social2Val">@yashkumat</span>
                        </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col text-center">
            <button id="save" onclick="return download()" class="btn btn-success">Download</button>
          </div>
        </div>
      </div>
    </div>

  </div>


  <!-- FOOTER -->
  <footer class="container">
    <p class="float-end"><a href="#"><i class="fas fa-caret-square-up fa-2x"></i></a></p>
    <p>Made with &hearts; by <a href="mailto:ykumat@gmail.com">Yash Kumat</a></p>
  </footer>
</main>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
  <script>

    function icon(number){
      var icon
      switch (number){
        case 0:
          icon = '<i class="fab fa-facebook-f"></i>'
          break;
        case 1:
          icon = "<i class='fab fa-snapchat-ghost'></i>"
          break;
        case 2:
          icon = '<i class="fab fa-twitter"></i>'
          break;
        case 3:
          icon = '<i class="fab fa-instagram"></i>'
          break;
        case 4:
          icon = '<i class="fab fa-github"></i>'
          break;
        case 5:
          icon = '<i class="fab fa-medium"></i>'
          break;
        case 6:
          icon = '<i class="fab fa-linkedin"></i>'
          break;
        case 7:
          icon = '<i class="fas fa-rupee-sign"></i>'
          break;
      }

      return icon
    }

    function isEmpty(value){
      if(value == '' || value == null){
        return true
      }else{
        false
      }
    }

    function makeCard1(){
      
      // e.preventDefault();

      var name = document.getElementById('name').value;
      var city1 = document.getElementById('city1').value;
      var city2 = document.getElementById('city2').value;
      var qrCode = document.getElementById('qr-code');
      var mobileNumber = document.getElementById('mobileNumber').value;
      var designation = document.getElementById('designation').value;
      var social1Option = document.getElementById('social1Option').options[document.getElementById('social1Option').selectedIndex].value;
      var social1Value = document.getElementById('social1Value').value;
      var social2Option = document.getElementById('social2Option').options[document.getElementById('social2Option').selectedIndex].value;
      var social2Value = document.getElementById('social2Value').value;

      if(isEmpty(name)){
        document.getElementById('nameError').innerHTML = "Enter valid name"
        return false
      }

      document.getElementById('nameValue').innerHTML = name
      document.getElementById('city1Value').innerHTML = city1
      
      if( !isEmpty(city2) ){
        document.getElementById('city2Value').innerHTML = " | " + city2
      }else{
        document.getElementById('city2Value').innerHTML = ''
      }

      document.getElementById('designationValue').innerHTML = designation

      document.getElementById('social1Symbol').innerHTML = icon(parseInt(social1Option))
      document.getElementById('social1Val').innerHTML = '@'+social1Value

      
      qrCode.setAttribute('src', `https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl=tel%3A${mobileNumber}&choe=UTF-8`);
      

      if(isEmpty(social2Option)){
        document.getElementById('social2Symbol').innerHTML = ""
        document.getElementById('social2Val').innerHTML = ""
      }else{
        document.getElementById('social2Symbol').innerHTML = icon(parseInt(social2Option))
        document.getElementById('social2Val').innerHTML = '@'+social2Value
      }
      
      document.getElementById('card1').classList.remove('visually-hidden')

      toDataURL(qrCode.src, function(dataURL){
      // result.src = dataURL;

      // now just to show that passing to a canvas doesn't hold the same results
      var canvas = document.createElement('canvas');
      canvas.width = qrCode.naturalWidth;
      canvas.height = qrCode.naturalHeight;
      canvas.getContext('2d').drawImage(qrCode, 0,0);
      qrCode.setAttribute('src', canvas.toDataURL());
      console.log(canvas.toDataURL()); // false - not same data
      });

    }

    function toDataURL(url, callback){
        var xhr = new XMLHttpRequest();
        xhr.open('get', url);
        xhr.responseType = 'blob';
        xhr.onload = function(){
          var fr = new FileReader();
        
          fr.onload = function(){
            callback(this.result);
          };
        
          fr.readAsDataURL(xhr.response); // async call
        };
        
        xhr.send();
    }

    function download() {
        html2canvas(document.getElementById('card2'), {
            onrendered: function(canvas) {
                var name = document.getElementById('name').value;
                var imgData = canvas.toDataURL("image/jpeg", 1.0);
                var pdf = new jsPDF();

                pdf.addImage(imgData, 'JPEG', 10, 10);

                pdf.save(name+'s-businessCard.pdf');
            }
        });
  }

  function validate(evt) {
    var theEvent = evt || window.event;

    // Handle paste
    if (theEvent.type === 'paste') {
        key = event.clipboardData.getData('text/plain');
    } else {
    // Handle key press
        var key = theEvent.keyCode || theEvent.which;
        key = String.fromCharCode(key);
    }
    var regex = /[0-9]|\./;
    if( !regex.test(key)) {
      theEvent.returnValue = false;
      if(theEvent.preventDefault) theEvent.preventDefault();
    }
  }

  
  
</script>
      
  </body>
</html>
